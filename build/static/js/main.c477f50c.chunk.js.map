{"version":3,"sources":["Todoitem.js","Inputform.js","Infoblock.js","App.js","index.js"],"names":["TodoItem","_this","this","Remove","styled","div","_templateObject","react_default","a","createElement","className","id","props","item","type","checked","completed","onChange","handleChange","htmlFor","style","fontStyle","color","textDecoration","text","onClick","delItem","React","Component","InputForm","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","addTolist","textVal","input","current","value","todos","toConsumableArray","state","trim","newItem","length","push","toSetNewState","localStorage","setItem","JSON","stringify","toHideInput","handlePressKey","e","key","createRef","focus","Fragment","placeholder","onKeyUp","ref","InfoBlockOnLoad","InfoBlock","Infoblock_templateObject","Plus","span","_templateObject2","toShowInput","App","array","setState","updatedTodos","map","filter","index","justloaded","isInputShown","_this2","updTodos","parse","getItem","document","addEventListener","target","_this3","todoList","Todoitem","Infoblock","Inputform","undefined","ReactDOM","render","src_App","getElementById"],"mappings":"geAsCeA,mLAjCL,IAAAC,EAAAC,KAQFC,EAASC,IAAOC,IAAVC,KASZ,OACCC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACdH,EAAAC,EAAAC,cAAA,SACCE,GAAIT,KAAKU,MAAMC,KAAKF,GACpBG,KAAK,WACLC,QAASb,KAAKU,MAAMC,KAAKG,UACzBC,SAAU,kBAAMhB,EAAKW,MAAMM,aAAajB,EAAKW,MAAMC,KAAKF,OACvDJ,EAAAC,EAAAC,cAAA,SAAOU,QAASjB,KAAKU,MAAMC,KAAKF,IACjCJ,EAAAC,EAAAC,cAAA,KAAGW,MAAOlB,KAAKU,MAAMC,KAAKG,UAvBN,CACtBK,UAAW,SACXC,MAAO,UACPC,eAAgB,gBAoByC,MAAOrB,KAAKU,MAAMC,KAAKW,OAE/EjB,EAAAC,EAAAC,cAACN,EAAD,CAAQsB,QAAS,kBAAMxB,EAAKW,MAAMc,QAAQzB,EAAKW,MAAMC,KAAKF,MAA1D,gBA5BmBgB,IAAMC,WCwDdC,cAvDd,SAAAA,IAAc,IAAA5B,EAAA,OAAA6B,OAAAC,EAAA,EAAAD,CAAA5B,KAAA2B,IACb5B,EAAA6B,OAAAE,EAAA,EAAAF,CAAA5B,KAAA4B,OAAAG,EAAA,EAAAH,CAAAD,GAAAK,KAAAhC,QAKDiC,UAAY,WACX,IAAMC,EAAUnC,EAAKoC,MAAMC,QAAQC,MAC7BC,EAAKV,OAAAW,EAAA,EAAAX,CAAO7B,EAAKW,MAAM8B,MAAMF,OACnC,GAAIJ,GAA8B,KAAnBA,EAAQO,OAAe,CACrC,IAAMC,EAAU,CACfjC,GAAIV,EAAKW,MAAM8B,MAAMF,MAAMK,OAC3BrB,KAAMY,EACNpB,WAAW,GAEZwB,EAAMM,KAAKF,GACX3C,EAAKoC,MAAMC,QAAQC,MAAQ,KAG5BtC,EAAKW,MAAMmC,cAAcP,GACzBQ,aAAaC,QAAQ,eAAgBC,KAAKC,UAAUX,IACpDvC,EAAKW,MAAMwC,eArBEnD,EAyBdoD,eAAiB,SAACC,GACH,UAAVA,EAAEC,KACLtD,EAAKkC,aAzBNlC,EAAKoC,MAAQV,IAAM6B,YAFNvD,mFAiCbC,KAAKmC,MAAMC,QAAQmB,yCAMnB,OACClD,EAAAC,EAAAC,cAAAF,EAAAC,EAAAkD,SAAA,KACCnD,EAAAC,EAAAC,cAAA,OAAKE,GAAG,aACPJ,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAAA,SACJE,GAAG,aAAaG,KAAK,OACrB6C,YAPY,iJAQZC,QAAS1D,KAAKmD,eACdQ,IAAK3D,KAAKmC,SAEX9B,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAAA,UAAQE,GAAG,WAAWc,QAASvB,KAAKiC,WAApC,0BAjDcR,IAAMC,wtBCwCfkC,mLAvCb,IAAMC,EAAY3D,IAAOC,IAAV2D,KAiBTC,EAAO7D,IAAO8D,KAAVC,KAUV,OACC5D,EAAAC,EAAAC,cAAAF,EAAAC,EAAAkD,SAAA,KACCnD,EAAAC,EAAAC,cAACsD,EAAD,2QAECxD,EAAAC,EAAAC,cAACwD,EAAD,CAAMtD,GAAG,OAAOc,QAASvB,KAAKU,MAAMwD,aAApC,KAFD,+EA/B0BzC,IAAMC,WCyHrByC,cArHd,SAAAA,IAAc,IAAApE,EAAA,OAAA6B,OAAAC,EAAA,EAAAD,CAAA5B,KAAAmE,IACbpE,EAAA6B,OAAAE,EAAA,EAAAF,CAAA5B,KAAA4B,OAAAG,EAAA,EAAAH,CAAAuC,GAAAnC,KAAAhC,QASD6C,cAAgB,SAACuB,GAAD,OAAWrE,EAAKsE,SAAS,CAAE/B,MAAO8B,KAVpCrE,EAadiB,aAAe,SAACP,GACf,IACM6D,EADK1C,OAAAW,EAAA,EAAAX,CAAO7B,EAAKyC,MAAMF,OACFiC,IAAI,SAAA5D,GAI9B,OAHIA,EAAKF,KAAOA,IACfE,EAAKG,WAAaH,EAAKG,WAEjBH,IAERZ,EAAKsE,SAAS,CAAE/B,MAAOgC,IACvBxB,aAAaC,QAAQ,eAAgBC,KAAKC,UAAUqB,KAtBvCvE,EA0BdyB,QAAU,SAAAf,GACT,IACM6D,EADK1C,OAAAW,EAAA,EAAAX,CAAO7B,EAAKyC,MAAMF,OACFkC,OAAO,SAAA7D,GAAI,OAAIA,EAAKF,KAAOA,IACpD8D,IAAI,SAAC5D,EAAM8D,GAEX,OADA9D,EAAKF,GAAKgE,EACH9D,IAETZ,EAAKsE,SAAS,CAAE/B,MAAOgC,IACvBxB,aAAaC,QAAQ,eAAgBC,KAAKC,UAAUqB,IACpDvE,EAAKsE,SAAS,CAAEK,YAAY,KAnCf3E,EAuCdmE,YAAc,WACbnE,EAAKsE,SAAS,CAAEK,YAAY,IAC5B3E,EAAKsE,SAAS,CAAEM,cAAc,KAzCjB5E,EA4CdmD,YAAc,kBAAMnD,EAAKsE,SAAS,CAAEM,cAAc,KA1CjD5E,EAAKyC,MAAQ,CACZF,MAAO,GACPqC,cAAc,EACdD,YAAY,GALA3E,mFA+CM,IAAA6E,EAAA5E,KAEb6E,EAAW7B,KAAK8B,MAAMhC,aAAaiC,QAAQ,iBACjD/E,KAAKqE,SAAS,CAAE/B,MAAOuC,IACvB7E,KAAKqE,SAAS,CAAEK,YAAY,IAG5BM,SAASC,iBAAiB,QAAS,SAAA7B,GAClC,IAAM3C,EAAK2C,EAAE8B,OAAOzE,GACT,cAAPA,GAA6B,eAAPA,GAA8B,aAAPA,GACtC,eAAPA,GAA8B,SAAPA,GAC1BmE,EAAK1B,gBAIP8B,SAASC,iBAAiB,QAAS,SAAA7B,GACpB,WAAVA,EAAEC,KACLuB,EAAK1B,iDAKC,IAAAiC,EAAAnF,KAGFoF,EAAWpF,KAAKwC,MAAMF,MAAMiC,IACjC,SAAA5D,GAAI,OAAIN,EAAAC,EAAAC,cAAC8E,EAAD,CACPhC,IAAK1C,EAAKF,GACVE,KAAMA,EACNK,aAAcmE,EAAKnE,aACnBQ,QAAS2D,EAAK3D,QAEd0C,YAAaiB,EAAKjB,gBAIpB,OACC7D,EAAAC,EAAAC,cAAAF,EAAAC,EAAAkD,SAAA,KAEExD,KAAKwC,MAAMkC,aAAe1E,KAAKwC,MAAMF,MAAMK,QAC3CtC,EAAAC,EAAAC,cAAC+E,EAAD,CACCpB,YAAalE,KAAKkE,cAGnBlE,KAAKwC,MAAMmC,cACXtE,EAAAC,EAAAC,cAACgF,EAAD,CACCtD,UAAWjC,KAAKiC,UAChBkB,eAAgBnD,KAAKgB,aACrBwB,MAAOxC,KAAKwC,MACZK,cAAe7C,KAAK6C,cACpBK,YAAalD,KAAKkD,cAIpB7C,EAAAC,EAAAC,cAAA,OAAKE,GAAG,OAEPD,UAAWR,KAAKwC,MAAMmC,aAAe,oBAAiBa,GAEtDnF,EAAAC,EAAAC,cAAA,UAAQE,GAAG,aAAac,QAASvB,KAAKkE,aAAtC,KACA7D,EAAAC,EAAAC,cAAA,OAAKE,GAAG,UAAR,8EAEAJ,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACb4E,YA9GW3D,IAAMC,WCAxB+D,IAASC,OAAOrF,EAAAC,EAAAC,cAACoF,EAAD,MAASX,SAASY,eAAe","file":"static/js/main.c477f50c.chunk.js","sourcesContent":["import React from 'react';\nimport styled from 'styled-components';\nimport PropTypes from 'prop-types';\n\nclass TodoItem extends React.Component {\n\trender() {\n\t\t//объект со стилями для изменения вида пункта списка при переключении true/false\n\t\tconst completedStyle = {\n\t\t\tfontStyle: \"italic\",\n\t\t\tcolor: \"#cdcdcd\",\n\t\t\ttextDecoration: \"line-through\"\n\t\t};\n\t\t//Используем styled-components для создания стилизованного компонента, отобрающего кнопку Удалить\n\t\tconst Remove = styled.div`\n\t\t\tcolor: #d00;\n\t\t\tfont-size: 1.45em;\n\t\t\tfont-weight: bold;\n\t\t\tline-height: 1;\n\t\t\tmargin-left: auto;\n\t\t\tpadding-right: 5px;\n\t\t`;\n\n\t\treturn (\n\t\t\t<div className='todo-item'>\n\t\t\t\t<input\n\t\t\t\t\tid={this.props.item.id}\n\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\tchecked={this.props.item.completed}\n\t\t\t\t\tonChange={() => this.props.handleChange(this.props.item.id)}\n\t\t\t\t/><label htmlFor={this.props.item.id}>\n\t\t\t\t\t<p style={this.props.item.completed ? completedStyle : null}>{this.props.item.text}</p>\n\t\t\t\t</label>\n\t\t\t\t<Remove onClick={() => this.props.delItem(this.props.item.id)}>&times;</Remove>\n\t\t\t</div>\n\t\t)\n\t}\n};\n\nexport default TodoItem;\n\n//применяем способ статической типизации, проверяя, соответсвуют ли полученные даные из App нужному типу\nTodoItem.propTypes = {\n\titem: PropTypes.object\n};","import React from 'react';\nimport PropTypes from 'prop-types';\n\n//Данный компонент рендерит поле для ввода пункта в список дел\nclass InputForm extends React.Component {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.input = React.createRef(); //получаем ссылку на поле ввода\n\t};\n\n\t//обработчик добавляет пункт в список, после клика на кнопку OK в области поля ввода\n\taddTolist = () => {\n\t\tconst textVal = this.input.current.value; //получаем знаение из поля ввода\n\t\tconst todos = [...this.props.state.todos]; //копируем в массив список дел из состояния\n\t\tif (textVal && textVal.trim() !== '') { //проверяем, чтобы поле ввода было не пустым\n\t\t\tconst newItem = {\t\t\t\t\t\t\t\t\t\t\t//создаем объект с данными пункта для списка дел\n\t\t\t\tid: this.props.state.todos.length,\n\t\t\t\ttext: textVal,\n\t\t\t\tcompleted: false\n\t\t\t};\n\t\t\ttodos.push(newItem); //добавляем его в массив списка дел\n\t\t\tthis.input.current.value = null; //обнуляем поле ввода\n\t\t};\n\n\t\tthis.props.toSetNewState(todos); //обновляем состояние списка дел\n\t\tlocalStorage.setItem('todoDataInLS', JSON.stringify(todos)); //сохраняем в localStorage список\n\t\tthis.props.toHideInput(); //скрываем поле ввода\n\t};\n\n\t//обрабатываем нажатие Enter при наборе в поле ввода\n\thandlePressKey = (e) => {\n\t\tif (e.key === 'Enter') {\n\t\t\tthis.addTolist();\n\t\t}\n\t};\n\n\t//при рендеринге поля ввода устанавляем в него курсор\n\tcomponentDidMount() {\n\t\tthis.input.current.focus();\n\t}\n\n\trender() {\n\t\tconst pHolder = \"После набора нажите Enter или ОК\";\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<div id=\"add-field\">\n\t\t\t\t\t<div><input\n\t\t\t\t\t\tid=\"text-input\" type=\"text\"\n\t\t\t\t\t\tplaceholder={pHolder}\n\t\t\t\t\t\tonKeyUp={this.handlePressKey}\n\t\t\t\t\t\tref={this.input}\n\t\t\t\t\t/></div>\n\t\t\t\t\t<div><button id=\"okbutton\" onClick={this.addTolist} >ок</button></div>\n\t\t\t\t</div>\n\t\t\t</>\n\t\t)\n\t};\n};\n\nexport default InputForm;\n\n//применяем способ статической типизации, проверяя, соответсвуют ли полученные даные из App нужному типу\nInputForm.propTypes = {\n\tstate: PropTypes.object\n};\n","import React from 'react';\nimport styled from 'styled-components';\n\nclass InfoBlockOnLoad extends React.Component {\n\trender() {\n\t\tconst InfoBlock = styled.div`\n\t\t\tposition: absolute;\n\t\t\tbackground-color: rgba(244, 255, 89, 0.8);\n\t\t\twidth: 100%;\n\t\t\theight: 60px;\n\t\t\tz-index: 2;\n\t\t\ttext-align: center;\n\t\t\tfont-size: 1.2em;\n\t\t\tcolor: royalblue;\n\t\t\tpadding-top: 20px;\n\t\t\tborder-radius: 3px;\n\t\t\tmax-width: 400px;\n\t\t\ttop: 60px;\n\t\t\tleft: 50%;\n\t\t\ttransform: translateX(-50%);\n    `;\n\n\t\tconst Plus = styled.span`\n\t\t\tdisplay: inline-block;\n\t\t\tpadding: 0px 3px;\n\t\t\tbackground-color: rgb(255, 0, 0, 0.6);\n\t\t\tcolor: white;\n\t\t\tvertical-align: middle;\n\t\t\tmargin: 0 3px;\n\t\t\tcursor: pointer;\n\t\t`;\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<InfoBlock  >\n\t\t\t\t\tДля добавления пункта в список дел нажмите кнопку\n\t\t\t\t\t<Plus id=\"plus\" onClick={this.props.toShowInput}>+</Plus>\n\t\t\t\t\tслева вверху\n\t\t\t\t</InfoBlock>\n\t\t\t</>\n\t\t)\n\t}\n};\n\nexport default InfoBlockOnLoad;","\nimport React from 'react';\nimport Todoitem from './Todoitem'; //Компонент рендерит пункт списка дел\nimport Inputform from './Inputform'; //Компонент рендерит поле для добавления пункта в список\nimport Infoblock from './Infoblock'; //Рендерит инфоблок\n\nclass App extends React.Component {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.state = {\n\t\t\ttodos: [], //Здесь будем хранить список дел в виде массива объектов\n\t\t\tisInputShown: false, //Здесь - состояние поля для добавления\n\t\t\tjustloaded: false //состояни определяет загрузку инфоблока\n\t\t};\n\t};\n\n\t//данным методом будем менять состояние списка дел из дочерних компонентов\n\ttoSetNewState = (array) => this.setState({ todos: array });\n\n\t//метод обратывает клик на пункт списка, меняет его состояние сделано/не_сделано\n\thandleChange = (id) => {\n\t\tconst todos = [...this.state.todos];\n\t\tconst updatedTodos = todos.map(item => {\n\t\t\tif (item.id === id) {\n\t\t\t\titem.completed = !item.completed\n\t\t\t}\n\t\t\treturn item;\n\t\t});\n\t\tthis.setState({ todos: updatedTodos })\n\t\tlocalStorage.setItem('todoDataInLS', JSON.stringify(updatedTodos)); //сохраняем локально состояние списка\n\t};\n\n\t//метод обрабатывает удаление пункта из списка\n\tdelItem = id => {\n\t\tconst todos = [...this.state.todos];\n\t\tconst updatedTodos = todos.filter(item => item.id !== id)\n\t\t\t.map((item, index) => {\n\t\t\t\titem.id = index\n\t\t\t\treturn item\n\t\t\t});\n\t\tthis.setState({ todos: updatedTodos });\n\t\tlocalStorage.setItem('todoDataInLS', JSON.stringify(updatedTodos));\n\t\tthis.setState({ justloaded: false });\n\t};\n\n\t//два метода ниже меняют состояние для отображения/скрытия поля ввода и ифноблока \n\ttoShowInput = () => {\n\t\tthis.setState({ justloaded: false });\n\t\tthis.setState({ isInputShown: true });\n\t};\n\n\ttoHideInput = () => this.setState({ isInputShown: false });\n\n\t//перед рендерингом компонента(при загрузке страницы):\n\tcomponentDidMount() {\n\t\t//подгружаем список дел в состояние из localStorage\n\t\tconst updTodos = JSON.parse(localStorage.getItem('todoDataInLS'));\n\t\tthis.setState({ todos: updTodos });\n\t\tthis.setState({ justloaded: true });\n\n\t\t//вешаем обработчики на клики вне поля ввода и на нажатие клавиши Esc,\n\t\tdocument.addEventListener('click', e => {\n\t\t\tconst id = e.target.id;\n\t\t\tif (id !== 'add-field' && id !== 'text-input' && id !== 'okbutton'\n\t\t\t\t&& id !== 'add-button' && id !== 'plus') {\n\t\t\t\tthis.toHideInput();\n\t\t\t};\n\t\t});\n\n\t\tdocument.addEventListener('keyup', e => {\n\t\t\tif (e.key === \"Escape\") {\n\t\t\t\tthis.toHideInput();\n\t\t\t};\n\t\t});\n\t};\n\n\trender() {\n\t\t//из массива списка дел формируем нужно кол-во компонентов для отображения списка дел,\n\t\t//передавая компоненту данные и методы из родителя в виде свойст\n\t\tconst todoList = this.state.todos.map(\n\t\t\titem => <Todoitem\n\t\t\t\tkey={item.id}\n\t\t\t\titem={item}\n\t\t\t\thandleChange={this.handleChange}\n\t\t\t\tdelItem={this.delItem}\n\n\t\t\t\ttoShowInput={this.toShowInput}\n\t\t\t/>\n\t\t);\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t{//Показываем инфоблок сразу после загрузки и пустом списке\n\t\t\t\t\tthis.state.justloaded && !this.state.todos.length &&\n\t\t\t\t\t<Infoblock\n\t\t\t\t\t\ttoShowInput={this.toShowInput}\n\t\t\t\t\t/>}\n\t\t\t\t{//Показываем или убираем поле ввода, передавая ему данные и методы \n\t\t\t\t\tthis.state.isInputShown &&\n\t\t\t\t\t<Inputform\n\t\t\t\t\t\taddTolist={this.addTolist}\n\t\t\t\t\t\thandlePressKey={this.handleChange}\n\t\t\t\t\t\tstate={this.state}\n\t\t\t\t\t\ttoSetNewState={this.toSetNewState}\n\t\t\t\t\t\ttoHideInput={this.toHideInput}\n\t\t\t\t\t/>\n\t\t\t\t}\n\n\t\t\t\t<div id=\"main\"\n\t\t\t\t\t//делаем область страницы неактивной под полем ввода\n\t\t\t\t\tclassName={this.state.isInputShown ? 'list-disable' : undefined}>\n\n\t\t\t\t\t<button id=\"add-button\" onClick={this.toShowInput}>+</button>\n\t\t\t\t\t<div id=\"header\">Мой список дел</div>\n\n\t\t\t\t\t<div className=\"todo-list\" /* здесь отобразим элементы списка дела */>\n\t\t\t\t\t\t{todoList}\n\t\t\t\t\t</div>\n\t\t\t\t</div >\n\t\t\t</>\n\t\t)\n\t};\n};\n\nexport default App;\n","\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}